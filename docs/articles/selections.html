<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Selections • DiagrammeR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Selections">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DiagrammeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/graphviz-mermaid.html">Graphviz and mermaid in DiagrammeR</a>
    </li>
    <li>
      <a href="../articles/node-edge-data-frames.html">Node and Edge Data Frames</a>
    </li>
    <li>
      <a href="../articles/selections.html">Selections</a>
    </li>
    <li>
      <a href="../articles/simple-graphs-ndfs-edfs.html">Creating Simple Graphs from NDFs/EDFs</a>
    </li>
    <li>
      <a href="../articles/traversals.html">Traversals</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rich-iannone/DiagrammeR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="selections_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="selections_files/viz-1.8.2/viz.js"></script><link href="selections_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="selections_files/grViz-binding-1.0.0/grViz.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Selections</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rich-iannone/DiagrammeR/blob/master/vignettes/selections.Rmd"><code>vignettes/selections.Rmd</code></a></small>
      <div class="hidden name"><code>selections.Rmd</code></div>

    </div>

    
    
<p>Occasionally, you’ll want to operate on a select group of nodes or edges. Some functions affect a single node or edge while others (or, sometimes, the same functions) operate on all nodes or edges in a graph. Selections allow you to target specified nodes or edges and then apply specialized functions to operate on just those selected entities. Most of the selection functions support rudimentary set operations across several calls of the selection functions (i.e., for the union, intersection, or difference between selection sets of nodes or edges).</p>
<div id="creating-a-node-selection" class="section level1">
<h1 class="hasAnchor">
<a href="#creating-a-node-selection" class="anchor"></a>Creating a Node Selection</h1>
<p>Selecting nodes in a graph is accomplished by targeting a specific node attribute (e.g., <code>type</code>, <code>label</code>, styling attributes such as <code>width</code>, if available, or arbitrary data values available for nodes).</p>
<p>As with all of the <code>select_*()</code> functions, the graph argument is the first in the function signature. This is beneficial for forward-piping the graph in a pipeline and propagating a series of tranformations on the graph. There may be situations where several types of selections be applied to the graphs nodes or edges (say, selecting all nodes of a graph in the first step and then subtracting nodes of a specific type from that group) and this is where the pipeline paradigm becomes incredibly useful, and, as an added bonus, easy to read and to reason about.</p>
<p>The main handle on selectivity for the <code><a href="../reference/select_nodes.html">select_nodes()</a></code> function is through the node attributes of the graph’s internal NDF, which contains columns for all possible node attributes in the graph. By providing an expression in <code>conditions</code>, nodes will be placed in the active selection where they are <code>TRUE</code>. Here are two common types of expressions that work well for the <code>conditions</code> argument:</p>
<ol style="list-style-type: decimal">
<li>a logical expression with a comparison operator (<code>&gt;</code>, <code>&lt;</code>, <code>==</code>, or <code>!=</code>)</li>
<li>a regular expression for filtering via string matching</li>
</ol>
<p>Let’s create a simple graph with four nodes that have numeric <code>data</code> values. Then, we’ll inspect the graph’s internal NDF to see where we are starting from.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Create a node data frame</span></a>
<a class="sourceLine" id="cb1-2" title="2">ndf &lt;-</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="st">  </span><span class="kw"><a href="../reference/create_node_df.html">create_node_df</a></span>(</a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="dt">n =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="dt">data =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(</a>
<a class="sourceLine" id="cb1-6" title="6">      <span class="fl">9.7</span>, <span class="fl">8.5</span>, <span class="fl">2.2</span>, <span class="fl">6.0</span>)</a>
<a class="sourceLine" id="cb1-7" title="7">  )</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co"># Create a new graph based on the ndf</span></a>
<a class="sourceLine" id="cb1-10" title="10">graph &lt;-<span class="st"> </span><span class="kw"><a href="../reference/create_graph.html">create_graph</a></span>(<span class="dt">nodes_df =</span> ndf)</a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co"># Inspect the graph's NDF</span></a>
<a class="sourceLine" id="cb1-13" title="13">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df.html">get_node_df</a></span>()</a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt;   id type label data</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;  9.7</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt;  8.5</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co">#&gt; 3  3 &lt;NA&gt;  &lt;NA&gt;  2.2</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co">#&gt; 4  4 &lt;NA&gt;  &lt;NA&gt;  6.0</span></a></code></pre></div>
<p>In the first example, nodes will be selected based on a logical expression operating on a collection of numeric values. To examine the result of the selection, the <code><a href="../reference/get_node_df_ws.html">get_node_df_ws()</a></code> will be used. This function will display a table for the active selection of nodes in the graph (like <code><a href="../reference/get_node_df.html">get_node_df()</a></code>, but with a subset of nodes).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># Select nodes where the `data` attribute</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co"># has a value greater than 7.0 (it's the</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co"># first 2 nodes)</span></a>
<a class="sourceLine" id="cb2-4" title="4">graph &lt;-</a>
<a class="sourceLine" id="cb2-5" title="5"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb2-7" title="7">    <span class="dt">conditions =</span> data <span class="op">&gt;</span><span class="st"> </span><span class="fl">7.0</span></a>
<a class="sourceLine" id="cb2-8" title="8">  )</a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; `select_nodes()` INFO: created a new selection of 2 nodes</span></a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co"># Get the graph's current selection</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co"># of nodes as a table</span></a>
<a class="sourceLine" id="cb2-13" title="13">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span>()</a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co">#&gt;   id type label data</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;  9.7</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt;  8.5</span></a></code></pre></div>
<p>A selection of nodes can be obtained through a match using a regular expression operating on a collection of character-based values (the node attribute that is named <code>fruits</code>). This uses the <code><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl()</a></code> function in the expression supplied to <code>conditions</code>. The regular expression to use is <code>^ap</code>, where the <code>^</code> denotes the beginning of the text to the parsed.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Create a node data frame</span></a>
<a class="sourceLine" id="cb3-2" title="2">ndf &lt;-</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">  </span><span class="kw"><a href="../reference/create_node_df.html">create_node_df</a></span>(</a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="dt">n =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="dt">fruits =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(</a>
<a class="sourceLine" id="cb3-6" title="6">      <span class="st">"apples"</span>, <span class="st">"apricots"</span>,</a>
<a class="sourceLine" id="cb3-7" title="7">      <span class="st">"bananas"</span>, <span class="st">"plums"</span>)</a>
<a class="sourceLine" id="cb3-8" title="8">  )</a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co"># Create a new graph based on the ndf</span></a>
<a class="sourceLine" id="cb3-11" title="11">graph &lt;-<span class="st"> </span><span class="kw"><a href="../reference/create_graph.html">create_graph</a></span>(<span class="dt">nodes_df =</span> ndf)</a>
<a class="sourceLine" id="cb3-12" title="12"></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co"># Select nodes where the `fruits`</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co"># attribute has a match on the first</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co"># letters being `ap` (the first 2 nodes)</span></a>
<a class="sourceLine" id="cb3-16" title="16">graph &lt;-</a>
<a class="sourceLine" id="cb3-17" title="17"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb3-19" title="19">    <span class="dt">conditions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"^ap"</span>, fruits)</a>
<a class="sourceLine" id="cb3-20" title="20">  )</a>
<a class="sourceLine" id="cb3-21" title="21"><span class="co">#&gt; `select_nodes()` INFO: created a new selection of 2 nodes</span></a>
<a class="sourceLine" id="cb3-22" title="22"></a>
<a class="sourceLine" id="cb3-23" title="23"><span class="co"># Get the graph's current selection</span></a>
<a class="sourceLine" id="cb3-24" title="24"><span class="co"># of nodes as a table</span></a>
<a class="sourceLine" id="cb3-25" title="25">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span>()</a>
<a class="sourceLine" id="cb3-26" title="26"><span class="co">#&gt;   id type label   fruits</span></a>
<a class="sourceLine" id="cb3-27" title="27"><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;   apples</span></a>
<a class="sourceLine" id="cb3-28" title="28"><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt; apricots</span></a></code></pre></div>
<p>The situation may arise when a more specialized match needs to be made (i.e., matching this but not that, or, matching two different types of things). This is where the <code>set_op</code> argument can become useful. When a selection of nodes is obtained using <code><a href="../reference/select_nodes.html">select_nodes()</a></code> (or any of the other <code>select_*()</code> functions that operate on nodes), the selection is stored in the graph object. This is seen in the above examples where <code><a href="../reference/get_selection.html">get_selection()</a></code> was used to verify which nodes were in the selection. Because the selection is retained (at least until <code><a href="../reference/clear_selection.html">clear_selection()</a></code> is called, or, a selection of edges is made), multiple uses <code><a href="../reference/select_nodes.html">select_nodes()</a></code> can modify the set of selected nodes depending on the option provided in the <code>set_op</code> argument. These set operations are:</p>
<ul>
<li>
<code>union</code>: creates a union of selected nodes in consecutive operations that create a selection of nodes (this is the default option)</li>
<li>
<code>intersect</code>: modifies the list of selected nodes such that only those nodes common to both consecutive node selection operations will retained</li>
<li>
<code>difference</code>: modifies the list of selected nodes such that the only nodes retained are those that are different in the second node selection operation compared to the first</li>
</ul>
<p>These set operations behave exactly as the base R functions: <code><a href="https://www.rdocumentation.org/packages/base/topics/sets">union()</a></code>, <code><a href="https://www.rdocumentation.org/packages/base/topics/sets">intersect()</a></code>/<code><a href="https://www.rdocumentation.org/packages/base/topics/sets">intersection()</a></code>, and <code><a href="https://www.rdocumentation.org/packages/base/topics/sets">setdiff()</a></code> (which are actually used internally). Furthermore, most of the <code>select_*()</code> functions contain the <code>set_op</code> argument, so, they behave the same way with regard to modifying the node or edge selection in a pipeline of selection operations. As examples are important in fully understanding how these can work for more complex selections, quite a few will be provided here.</p>
<p>The example graph will now be a bit more complex. It will contain 9 nodes, of three different <code>type</code>s (<code>fruit</code>, <code>veg</code>, and <code>nut</code>). The <code>label</code> node attribute has the name of the food, and the <code>count</code> attribute contains arbitrary numeric values.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># Create a node data frame</span></a>
<a class="sourceLine" id="cb4-2" title="2">ndf &lt;-</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw"><a href="../reference/create_node_df.html">create_node_df</a></span>(</a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="dt">n =</span> <span class="dv">9</span>,</a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="dt">type =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(</a>
<a class="sourceLine" id="cb4-6" title="6">      <span class="st">"fruit"</span>, <span class="st">"fruit"</span>, <span class="st">"fruit"</span>,</a>
<a class="sourceLine" id="cb4-7" title="7">      <span class="st">"veg"</span>, <span class="st">"veg"</span>, <span class="st">"veg"</span>,</a>
<a class="sourceLine" id="cb4-8" title="8">      <span class="st">"nut"</span>, <span class="st">"nut"</span>, <span class="st">"nut"</span>),</a>
<a class="sourceLine" id="cb4-9" title="9">    <span class="dt">label =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(</a>
<a class="sourceLine" id="cb4-10" title="10">      <span class="st">"pineapple"</span>, <span class="st">"apple"</span>, <span class="st">"apricot"</span>,</a>
<a class="sourceLine" id="cb4-11" title="11">      <span class="st">"cucumber"</span>, <span class="st">"celery"</span>, <span class="st">"endive"</span>,</a>
<a class="sourceLine" id="cb4-12" title="12">      <span class="st">"hazelnut"</span>, <span class="st">"almond"</span>, <span class="st">"chestnut"</span>),</a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="dt">count =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(</a>
<a class="sourceLine" id="cb4-14" title="14">      <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="dv">9</span>, <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb4-15" title="15">  )</a>
<a class="sourceLine" id="cb4-16" title="16"></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co"># Create a new graph based on the ndf</span></a>
<a class="sourceLine" id="cb4-18" title="18">graph &lt;-<span class="st"> </span><span class="kw"><a href="../reference/create_graph.html">create_graph</a></span>(<span class="dt">nodes_df =</span> ndf)</a>
<a class="sourceLine" id="cb4-19" title="19"></a>
<a class="sourceLine" id="cb4-20" title="20"><span class="co"># Inspect the graph's NDF</span></a>
<a class="sourceLine" id="cb4-21" title="21">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df.html">get_node_df</a></span>()</a>
<a class="sourceLine" id="cb4-22" title="22"><span class="co">#&gt;   id  type     label count</span></a>
<a class="sourceLine" id="cb4-23" title="23"><span class="co">#&gt; 1  1 fruit pineapple     6</span></a>
<a class="sourceLine" id="cb4-24" title="24"><span class="co">#&gt; 2  2 fruit     apple     3</span></a>
<a class="sourceLine" id="cb4-25" title="25"><span class="co">#&gt; 3  3 fruit   apricot     8</span></a>
<a class="sourceLine" id="cb4-26" title="26"><span class="co">#&gt; 4  4   veg  cucumber     7</span></a>
<a class="sourceLine" id="cb4-27" title="27"><span class="co">#&gt; 5  5   veg    celery     2</span></a>
<a class="sourceLine" id="cb4-28" title="28"><span class="co">#&gt; 6  6   veg    endive     6</span></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="co">#&gt; 7  7   nut  hazelnut     9</span></a>
<a class="sourceLine" id="cb4-30" title="30"><span class="co">#&gt; 8  8   nut    almond     9</span></a>
<a class="sourceLine" id="cb4-31" title="31"><span class="co">#&gt; 9  9   nut  chestnut     7</span></a></code></pre></div>
<p>Let’s successively use two <code><a href="../reference/select_nodes.html">select_nodes()</a></code> calls to select all those foods that either begin with <code>c</code> or end with <code>e</code>. Because this is an <em>OR</em> set, we will use the <code>union</code> set operation in the second call of <code><a href="../reference/select_nodes.html">select_nodes()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># Select all foods that either begin</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co"># with `c` or ending with `e`</span></a>
<a class="sourceLine" id="cb5-3" title="3">graph_<span class="dv">1</span> &lt;-</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="dt">conditions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"^c"</span>, label)</a>
<a class="sourceLine" id="cb5-7" title="7">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb5-9" title="9">    <span class="dt">conditions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"e$"</span>, label),</a>
<a class="sourceLine" id="cb5-10" title="10">    <span class="dt">set_op =</span> <span class="st">"union"</span></a>
<a class="sourceLine" id="cb5-11" title="11">  )</a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">#&gt; `select_nodes()` INFO: created a new selection of 3 nodes</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">#&gt; `select_nodes()` INFO: modified an existing selection of 3 nodes:</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">#&gt; * 6 nodes are now in the active selection</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">#&gt; * used the `union` set operation</span></a>
<a class="sourceLine" id="cb5-16" title="16"></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="co"># Get the graph's current selection</span></a>
<a class="sourceLine" id="cb5-18" title="18"><span class="co"># of nodes as a table</span></a>
<a class="sourceLine" id="cb5-19" title="19">graph_<span class="dv">1</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span>()</a>
<a class="sourceLine" id="cb5-20" title="20"><span class="co">#&gt;   id  type     label count</span></a>
<a class="sourceLine" id="cb5-21" title="21"><span class="co">#&gt; 1  1 fruit pineapple     6</span></a>
<a class="sourceLine" id="cb5-22" title="22"><span class="co">#&gt; 2  2 fruit     apple     3</span></a>
<a class="sourceLine" id="cb5-23" title="23"><span class="co">#&gt; 3  4   veg  cucumber     7</span></a>
<a class="sourceLine" id="cb5-24" title="24"><span class="co">#&gt; 4  5   veg    celery     2</span></a>
<a class="sourceLine" id="cb5-25" title="25"><span class="co">#&gt; 5  6   veg    endive     6</span></a>
<a class="sourceLine" id="cb5-26" title="26"><span class="co">#&gt; 6  9   nut  chestnut     7</span></a></code></pre></div>
<p>The <code>conditions</code> don’t need to be related. In the first below, it’s a matching expression using <code><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl()</a></code>. The second is filtering to those nodes with <code>count &lt; 5</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># Select any food beginning with `a` and</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co"># having a count less than 5</span></a>
<a class="sourceLine" id="cb6-3" title="3">graph_<span class="dv">2</span> &lt;-</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb6-6" title="6">    <span class="dt">conditions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"^a"</span>, label)</a>
<a class="sourceLine" id="cb6-7" title="7">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb6-9" title="9">    <span class="dt">conditions =</span> count <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>,</a>
<a class="sourceLine" id="cb6-10" title="10">    <span class="dt">set_op =</span> <span class="st">"intersect"</span></a>
<a class="sourceLine" id="cb6-11" title="11">  )</a>
<a class="sourceLine" id="cb6-12" title="12"><span class="co">#&gt; `select_nodes()` INFO: created a new selection of 3 nodes</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co">#&gt; `select_nodes()` INFO: modified an existing selection of 3 nodes:</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="co">#&gt; * 1 node are now in the active selection</span></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">#&gt; * used the `intersect` set operation</span></a>
<a class="sourceLine" id="cb6-16" title="16"></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="co"># Get the graph's current selection</span></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="co"># of nodes as a table</span></a>
<a class="sourceLine" id="cb6-19" title="19">graph_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span>()</a>
<a class="sourceLine" id="cb6-20" title="20"><span class="co">#&gt;   id  type label count</span></a>
<a class="sourceLine" id="cb6-21" title="21"><span class="co">#&gt; 1  2 fruit apple     3</span></a></code></pre></div>
<p>The following example contains a pair of <code><a href="../reference/select_nodes.html">select_nodes()</a></code> statements, where the first filters nodes to a <code>fruit</code> group (<code>type == "fruit"</code>) and then excludes a subset of these nodes (any fruit containing “apple” in the name) using the <code>set_op = "difference"</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># Select any fruit not containing</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co"># `apple` in its name</span></a>
<a class="sourceLine" id="cb7-3" title="3">graph_<span class="dv">3</span> &lt;-</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="dt">conditions =</span> type <span class="op">==</span><span class="st"> "fruit"</span></a>
<a class="sourceLine" id="cb7-7" title="7">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="dt">conditions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"apple"</span>, label),</a>
<a class="sourceLine" id="cb7-10" title="10">    <span class="dt">set_op =</span> <span class="st">"difference"</span></a>
<a class="sourceLine" id="cb7-11" title="11">  )</a>
<a class="sourceLine" id="cb7-12" title="12"><span class="co">#&gt; `select_nodes()` INFO: created a new selection of 3 nodes</span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="co">#&gt; `select_nodes()` INFO: modified an existing selection of 3 nodes:</span></a>
<a class="sourceLine" id="cb7-14" title="14"><span class="co">#&gt; * 1 node are now in the active selection</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="co">#&gt; * used the `difference` set operation</span></a>
<a class="sourceLine" id="cb7-16" title="16"></a>
<a class="sourceLine" id="cb7-17" title="17"><span class="co"># Get the graph's current selection</span></a>
<a class="sourceLine" id="cb7-18" title="18"><span class="co"># of nodes as a table</span></a>
<a class="sourceLine" id="cb7-19" title="19">graph_<span class="dv">3</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span>()</a>
<a class="sourceLine" id="cb7-20" title="20"><span class="co">#&gt;   id  type   label count</span></a>
<a class="sourceLine" id="cb7-21" title="21"><span class="co">#&gt; 1  3 fruit apricot     8</span></a></code></pre></div>
<p>There is an additional filtering option available as the <code>nodes</code> argument. Here, a vector of node ID values can be supplied and this will indicate to the function that only that subset of nodes will be considered for <code><a href="../reference/select_nodes.html">select_nodes()</a></code>. Note that, if nothing is provided in <code>conditions</code> and <code>nodes</code> is given a vector of node ID values, it will be those very nodes that will make up the selection in this function call. While this is convenient and often a good method for selecting nodes (so long as one knows which node IDs need to be selected), the function <code><a href="../reference/select_nodes_by_id.html">select_nodes_by_id()</a></code> handles this use case more directly (as it only filters based on its <code>nodes</code> argument).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># Create a node data frame</span></a>
<a class="sourceLine" id="cb8-2" title="2">ndf &lt;-</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="st">  </span><span class="kw"><a href="../reference/create_node_df.html">create_node_df</a></span>(</a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="dt">n =</span> <span class="dv">10</span>,</a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="dt">data =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(<span class="fl">0.5</span>, <span class="dv">5</span>, <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb8-6" title="6">  )</a>
<a class="sourceLine" id="cb8-7" title="7"></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co"># Create a new graph based on the ndf</span></a>
<a class="sourceLine" id="cb8-9" title="9">graph &lt;-<span class="st"> </span><span class="kw"><a href="../reference/create_graph.html">create_graph</a></span>(<span class="dt">nodes_df =</span> ndf)</a>
<a class="sourceLine" id="cb8-10" title="10"></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="co"># Inspect the graph's NDF</span></a>
<a class="sourceLine" id="cb8-12" title="12">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df.html">get_node_df</a></span>()</a>
<a class="sourceLine" id="cb8-13" title="13"><span class="co">#&gt;    id type label data</span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="co">#&gt; 1   1 &lt;NA&gt;  &lt;NA&gt;  0.5</span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="co">#&gt; 2   2 &lt;NA&gt;  &lt;NA&gt;  1.0</span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="co">#&gt; 3   3 &lt;NA&gt;  &lt;NA&gt;  1.5</span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="co">#&gt; 4   4 &lt;NA&gt;  &lt;NA&gt;  2.0</span></a>
<a class="sourceLine" id="cb8-18" title="18"><span class="co">#&gt; 5   5 &lt;NA&gt;  &lt;NA&gt;  2.5</span></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="co">#&gt; 6   6 &lt;NA&gt;  &lt;NA&gt;  3.0</span></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="co">#&gt; 7   7 &lt;NA&gt;  &lt;NA&gt;  3.5</span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="co">#&gt; 8   8 &lt;NA&gt;  &lt;NA&gt;  4.0</span></a>
<a class="sourceLine" id="cb8-22" title="22"><span class="co">#&gt; 9   9 &lt;NA&gt;  &lt;NA&gt;  4.5</span></a>
<a class="sourceLine" id="cb8-23" title="23"><span class="co">#&gt; 10 10 &lt;NA&gt;  &lt;NA&gt;  5.0</span></a></code></pre></div>
<p>Let’s now perform a call to <code><a href="../reference/select_nodes.html">select_nodes()</a></code> that contains both an expression for the <code>conditions</code> argument, and, a range of node ID values in the <code>nodes</code> argument.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># Select from a subset of nodes</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co"># (given as `nodes = 1:6`) where</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co"># the `data` value is greater than `1.5`</span></a>
<a class="sourceLine" id="cb9-4" title="4">graph &lt;-</a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="st">  </span><span class="kw"><a href="../reference/select_nodes.html">select_nodes</a></span>(</a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="dt">conditions =</span> data <span class="op">&gt;</span><span class="st"> </span><span class="fl">1.5</span>,</a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="dt">nodes =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb9-9" title="9">  )</a>
<a class="sourceLine" id="cb9-10" title="10"><span class="co">#&gt; `select_nodes()` INFO: created a new selection of 3 nodes</span></a>
<a class="sourceLine" id="cb9-11" title="11"></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="co"># Get the graph's current selection</span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="co"># of nodes as a table</span></a>
<a class="sourceLine" id="cb9-14" title="14">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span>()</a>
<a class="sourceLine" id="cb9-15" title="15"><span class="co">#&gt;   id type label data</span></a>
<a class="sourceLine" id="cb9-16" title="16"><span class="co">#&gt; 1  4 &lt;NA&gt;  &lt;NA&gt;  2.0</span></a>
<a class="sourceLine" id="cb9-17" title="17"><span class="co">#&gt; 2  5 &lt;NA&gt;  &lt;NA&gt;  2.5</span></a>
<a class="sourceLine" id="cb9-18" title="18"><span class="co">#&gt; 3  6 &lt;NA&gt;  &lt;NA&gt;  3.0</span></a></code></pre></div>
</div>
<div id="creating-an-edge-selection" class="section level1">
<h1 class="hasAnchor">
<a href="#creating-an-edge-selection" class="anchor"></a>Creating an Edge Selection</h1>
<p>Selecting edges in a graph is done in a manner quite similar to selecting nodes. The primary means for targeting a specific edges is through any available edge attributes (e.g., <code>rel</code>, styling attributes such as <code>color</code>, or arbitrary data values available for edges).</p>
<p>We will start by creating a graph with four nodes and four edges. The edges will have an edge attribute called <code>data</code> that contains numeric values.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># Create a node data frame</span></a>
<a class="sourceLine" id="cb10-2" title="2">ndf &lt;-<span class="st"> </span><span class="kw"><a href="../reference/create_node_df.html">create_node_df</a></span>(<span class="dt">n =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co"># Create an edge data frame</span></a>
<a class="sourceLine" id="cb10-5" title="5">edf &lt;-</a>
<a class="sourceLine" id="cb10-6" title="6"><span class="st">  </span><span class="kw"><a href="../reference/create_edge_df.html">create_edge_df</a></span>(</a>
<a class="sourceLine" id="cb10-7" title="7">    <span class="dt">from =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</a>
<a class="sourceLine" id="cb10-8" title="8">      <span class="dt">to =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb10-9" title="9">    <span class="dt">data =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(</a>
<a class="sourceLine" id="cb10-10" title="10">      <span class="fl">8.6</span>, <span class="fl">2.8</span>, <span class="fl">6.3</span>, <span class="fl">4.5</span>)</a>
<a class="sourceLine" id="cb10-11" title="11">  )</a>
<a class="sourceLine" id="cb10-12" title="12"></a>
<a class="sourceLine" id="cb10-13" title="13"><span class="co"># Create a new graph from</span></a>
<a class="sourceLine" id="cb10-14" title="14"><span class="co"># the NDF and EDF</span></a>
<a class="sourceLine" id="cb10-15" title="15">graph &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb10-16" title="16"><span class="st">  </span><span class="kw"><a href="../reference/create_graph.html">create_graph</a></span>(</a>
<a class="sourceLine" id="cb10-17" title="17">    <span class="dt">nodes_df =</span> ndf,</a>
<a class="sourceLine" id="cb10-18" title="18">    <span class="dt">edges_df =</span> edf</a>
<a class="sourceLine" id="cb10-19" title="19">  )</a>
<a class="sourceLine" id="cb10-20" title="20"></a>
<a class="sourceLine" id="cb10-21" title="21"><span class="co"># Inspect the graph's EDF</span></a>
<a class="sourceLine" id="cb10-22" title="22">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_edge_df.html">get_edge_df</a></span>()</a>
<a class="sourceLine" id="cb10-23" title="23"><span class="co">#&gt;   id from to  rel data</span></a>
<a class="sourceLine" id="cb10-24" title="24"><span class="co">#&gt; 1  1    1  2 &lt;NA&gt;  8.6</span></a>
<a class="sourceLine" id="cb10-25" title="25"><span class="co">#&gt; 2  2    2  3 &lt;NA&gt;  2.8</span></a>
<a class="sourceLine" id="cb10-26" title="26"><span class="co">#&gt; 3  3    3  4 &lt;NA&gt;  6.3</span></a>
<a class="sourceLine" id="cb10-27" title="27"><span class="co">#&gt; 4  4    4  1 &lt;NA&gt;  4.5</span></a></code></pre></div>
<p>The following example shows how to create selections of edges based on a logical expression operating on a collection of numeric values in the <code>data</code> attribute.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># Select edges where the `data`</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co"># attribute has a value</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co"># greater than 5.0</span></a>
<a class="sourceLine" id="cb11-4" title="4">graph &lt;-</a>
<a class="sourceLine" id="cb11-5" title="5"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="st">  </span><span class="kw"><a href="../reference/select_edges.html">select_edges</a></span>(</a>
<a class="sourceLine" id="cb11-7" title="7">    <span class="dt">conditions =</span> data <span class="op">&gt;</span><span class="st"> </span><span class="fl">5.0</span></a>
<a class="sourceLine" id="cb11-8" title="8">  )</a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co">#&gt; `select_edges()` INFO: created a new selection of 2 edges</span></a>
<a class="sourceLine" id="cb11-10" title="10"></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="co"># Get the graph's current selection</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="co"># of edges as a table</span></a>
<a class="sourceLine" id="cb11-13" title="13">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_edge_df_ws.html">get_edge_df_ws</a></span>()</a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co">#&gt;   id from to  rel data</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="co">#&gt; 1  1    1  2 &lt;NA&gt;  8.6</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt; 2  3    3  4 &lt;NA&gt;  6.3</span></a></code></pre></div>
</div>
<div id="selecting-the-last-node-or-edge-in-an-ndf-or-edf" class="section level1">
<h1 class="hasAnchor">
<a href="#selecting-the-last-node-or-edge-in-an-ndf-or-edf" class="anchor"></a>Selecting the Last Node or Edge in an NDF or EDF</h1>
<p>You can select the last node or edge from the graph’s internal node data frame (NDF) or internal edge data frame (EDF), respectively. Usually, this will be the last node or edge created since new nodes or edges are added to the bottom of the data frame and there is no shuffling of these positions. Immediately after creating a single node or edge, calling either the <code>select_last_node()</code> or the <code>select_last_edge()</code> functions will result in a selection of the last node or edge created.</p>
<p>For both functions, <code>graph</code> is the only argument. If we provide a graph object to <code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code> we will get an active selection of nodes (the last nodes that were added to the graph object). Likewise, the <code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> will create an active selection of edges, whichever edges were last defined in a function call.</p>
<p>To begin, we’ll use the same graph as before but we’ll clear any active selection using the <code><a href="../reference/clear_selection.html">clear_selection()</a></code> function. To ensure that there is no active selection of nodes or edges, we can use the <code><a href="../reference/get_selection.html">get_selection()</a></code> function. A value of <code>NA</code> means that there is neither a selection of nodes nor edges.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># Clear the graph's selection</span></a>
<a class="sourceLine" id="cb12-2" title="2">graph &lt;-</a>
<a class="sourceLine" id="cb12-3" title="3"><span class="st">  </span>graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/clear_selection.html">clear_selection</a></span>()</a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">#&gt; `clear_selection()` INFO: cleared an existing selection of 2 edges</span></a>
<a class="sourceLine" id="cb12-6" title="6"></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co"># Check whether there is still</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co"># a selection present</span></a>
<a class="sourceLine" id="cb12-9" title="9">graph <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_selection.html">get_selection</a></span>()</a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co">#&gt; `get_selection()` INFO: there is no active selection of nodes or edges</span></a>
<a class="sourceLine" id="cb12-11" title="11"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>If we use <code>select_last_nodes_created</code> on this graph, we find that the active selection of nodes contains all the nodes in the graph, as they were all produced in the <code><a href="../reference/create_graph.html">create_graph()</a></code> function (and no nodes were added in subsequent operations).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># Select the last node in the graph's NDF and confirm</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co"># that the selection was made</span></a>
<a class="sourceLine" id="cb13-3" title="3">graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/select_last_nodes_created.html">select_last_nodes_created</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="st">  </span><span class="kw"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span>()</a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co">#&gt;   id type label</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb13-8" title="8"><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb13-9" title="9"><span class="co">#&gt; 3  3 &lt;NA&gt;  &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="co">#&gt; 4  4 &lt;NA&gt;  &lt;NA&gt;</span></a></code></pre></div>
<p>The same goes for the edges. Using <code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> will make a selection of edges that includes all edges in the graph.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># Select the last edge in the graph's EDF and confirm</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co"># that the selection was made</span></a>
<a class="sourceLine" id="cb14-3" title="3">graph <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/select_last_edges_created.html">select_last_edges_created</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="st">  </span><span class="kw"><a href="../reference/get_edge_df_ws.html">get_edge_df_ws</a></span>()</a>
<a class="sourceLine" id="cb14-6" title="6"><span class="co">#&gt;   id from to  rel data</span></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co">#&gt; 1  1    1  2 &lt;NA&gt;  8.6</span></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="co">#&gt; 2  2    2  3 &lt;NA&gt;  2.8</span></a>
<a class="sourceLine" id="cb14-9" title="9"><span class="co">#&gt; 3  3    3  4 &lt;NA&gt;  6.3</span></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="co">#&gt; 4  4    4  1 &lt;NA&gt;  4.5</span></a></code></pre></div>
<p>Where these functions become useful is during the building up of a graph in multiple steps. In this next example, we will start with an empty graph (using <code><a href="../reference/create_graph.html">create_graph()</a></code> by itself) then add a single node with <code><a href="../reference/add_node.html">add_node()</a></code>, and then select that very node with <code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code>. This selection-in-a-pipeline approach makes it easy to set node attributes because we can use the <code><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws()</a></code> function. In this example, we’re adding a new <code>timestamp</code> attribute and assigning a value (the system time). Because the selection is persistent, we can set more attributes in further calls to <code><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws()</a></code>. When we are done with this node selection, we call the <code><a href="../reference/clear_selection.html">clear_selection()</a></code> function and return to a clean slate of no active selection present (it removes any node or edge selection from the graph object). The example proceeds to create another new node and adding attributes, and then a new edge and edge attributes (with <code><a href="../reference/set_edge_attrs_ws.html">set_edge_attrs_ws()</a></code>). This is all facilitated with the <code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code> and <code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> functions.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># Create a graph, node-by-node and</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="co"># edge-by-edge and add attributes</span></a>
<a class="sourceLine" id="cb15-3" title="3">graph_<span class="dv">2</span> &lt;-</a>
<a class="sourceLine" id="cb15-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/create_graph.html">create_graph</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="st">  </span><span class="kw"><a href="../reference/add_node.html">add_node</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="st">  </span><span class="kw"><a href="../reference/select_last_nodes_created.html">select_last_nodes_created</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="st">  </span><span class="kw"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span>(</a>
<a class="sourceLine" id="cb15-8" title="8">    <span class="dt">node_attr =</span> <span class="st">"timestamp"</span>,</a>
<a class="sourceLine" id="cb15-9" title="9">    <span class="dt">value =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>())</a>
<a class="sourceLine" id="cb15-10" title="10">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="st">  </span><span class="kw"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span>(</a>
<a class="sourceLine" id="cb15-12" title="12">    <span class="dt">node_attr =</span> <span class="st">"type"</span>,</a>
<a class="sourceLine" id="cb15-13" title="13">    <span class="dt">value =</span> <span class="st">"A"</span></a>
<a class="sourceLine" id="cb15-14" title="14">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="st">  </span><span class="kw"><a href="../reference/clear_selection.html">clear_selection</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-16" title="16"><span class="st">  </span><span class="kw"><a href="../reference/add_node.html">add_node</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-17" title="17"><span class="st">  </span><span class="kw"><a href="../reference/select_last_nodes_created.html">select_last_nodes_created</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-18" title="18"><span class="st">  </span><span class="kw"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span>(</a>
<a class="sourceLine" id="cb15-19" title="19">    <span class="dt">node_attr =</span> <span class="st">"timestamp"</span>,</a>
<a class="sourceLine" id="cb15-20" title="20">    <span class="dt">value =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>())</a>
<a class="sourceLine" id="cb15-21" title="21">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-22" title="22"><span class="st">  </span><span class="kw"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span>(</a>
<a class="sourceLine" id="cb15-23" title="23">    <span class="dt">node_attr =</span> <span class="st">"type"</span>,</a>
<a class="sourceLine" id="cb15-24" title="24">    <span class="dt">value =</span> <span class="st">"B"</span></a>
<a class="sourceLine" id="cb15-25" title="25">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-26" title="26"><span class="st">  </span><span class="kw"><a href="../reference/add_edge.html">add_edge</a></span>(</a>
<a class="sourceLine" id="cb15-27" title="27">    <span class="dt">from =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb15-28" title="28">    <span class="dt">to =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb15-29" title="29">    <span class="dt">rel =</span> <span class="st">"AB"</span></a>
<a class="sourceLine" id="cb15-30" title="30">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-31" title="31"><span class="st">  </span><span class="kw"><a href="../reference/select_last_edges_created.html">select_last_edges_created</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-32" title="32"><span class="st">  </span><span class="kw"><a href="../reference/set_edge_attrs_ws.html">set_edge_attrs_ws</a></span>(</a>
<a class="sourceLine" id="cb15-33" title="33">    <span class="dt">edge_attr =</span> <span class="st">"timestamp"</span>,</a>
<a class="sourceLine" id="cb15-34" title="34">    <span class="dt">value =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>())</a>
<a class="sourceLine" id="cb15-35" title="35">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-36" title="36"><span class="st">  </span><span class="kw"><a href="../reference/clear_selection.html">clear_selection</a></span>()</a>
<a class="sourceLine" id="cb15-37" title="37"><span class="co">#&gt; `clear_selection()` INFO: cleared an existing selection of 1 node</span></a>
<a class="sourceLine" id="cb15-38" title="38"><span class="co">#&gt; `clear_selection()` INFO: cleared an existing selection of 1 edge</span></a>
<a class="sourceLine" id="cb15-39" title="39"></a>
<a class="sourceLine" id="cb15-40" title="40"><span class="co"># View the new graph</span></a>
<a class="sourceLine" id="cb15-41" title="41">graph_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/render_graph.html">render_graph</a></span>()</a></code></pre></div>
<div id="htmlwidget-cc34cc1ce4dad13a6df6" style="width:700px;height:432.632880098888px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-cc34cc1ce4dad13a6df6">{"x":{"diagram":"digraph {\n\ngraph [layout = \"neato\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [fillcolor = \"#F0F8FF\", fontcolor = \"#000000\"] \n  \"2\" [fillcolor = \"#F0F8FF\", fontcolor = \"#000000\"] \n  \"1\"->\"2\" \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script><p>The graph shows two nodes connected together. Nothing more, nothing less. The more interesting views of the data are of the node and edge data frames, which now have several attributes set. Let’s have a look at the graph’s internal node data frame…</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="co"># Inspect the new graph's NDF</span></a>
<a class="sourceLine" id="cb16-2" title="2">graph_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_node_df.html">get_node_df</a></span>()</a>
<a class="sourceLine" id="cb16-3" title="3"><span class="co">#&gt;   id type label           timestamp</span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="co">#&gt; 1  1    A  &lt;NA&gt; 2019-02-04 17:08:23</span></a>
<a class="sourceLine" id="cb16-5" title="5"><span class="co">#&gt; 2  2    B  &lt;NA&gt; 2019-02-04 17:08:23</span></a></code></pre></div>
<p>…and let’s inspect the graph’s internal edge data frame.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co"># Inspect the new graph's EDF</span></a>
<a class="sourceLine" id="cb17-2" title="2">graph_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_edge_df.html">get_edge_df</a></span>()</a>
<a class="sourceLine" id="cb17-3" title="3"><span class="co">#&gt;   id from to rel           timestamp</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co">#&gt; 1  1    1  2  AB 2019-02-04 17:08:24</span></a></code></pre></div>
<p>As can be seen, immediately invoking <code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code> or <code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> after addition of new nodes or edges can be useful for working with the newly made nodes/edges. Many functions ending with <code>_ws()</code> operate specifically on selections of nodes or edges.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#creating-a-node-selection">Creating a Node Selection</a></li>
      <li><a href="#creating-an-edge-selection">Creating an Edge Selection</a></li>
      <li><a href="#selecting-the-last-node-or-edge-in-an-ndf-or-edf">Selecting the Last Node or Edge in an NDF or EDF</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Iannone.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
